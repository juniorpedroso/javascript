<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha tabela</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <h1>Minha tabela Teste JSON</h1>
    <table>
        <caption>Teste de Escala</caption>
        <thead>
            <tr>
                <th colspan="2">dia</th>
                <th colspan="6">diurno</th>
                <th colspan="7">noturno</th>
            </tr>
            <tr>
                <th>n</th>
                <th>sem</th>
                <th>Delpol</th>
                <th>Delpol apoio</th>
                <th>Esc Tit</th>
                <th>Esc sob</th>
                <th>Op Tit</th>
                <th>Op sob</th>
                <th>Delpol</th>
                <th>Delpol apoio</th>
                <th>Esc Tit</th>
                <th>Esc sob</th>
                <th>Op 1</th>
                <th>Op 2</th>
                <th>Op sob</th>
            </tr>
        </thead>
        <tfoot>

        </tfoot>
        <tbody id="myTable">

        </tbody>

    </table>
    <script>
        let myArray = []
        getDados()
        function getDados() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if(xhttp.readyState==4 && xhttp.status==200){
                    myArray = JSON.parse(xhttp.responseText);
                } else {
                    window.alert("sorry connection error");
                }
            }
            xhttp.open("GET", "data.json", true);
            xhttp.send()
        }

        buildTable(myArray)

        function buildTable(data) {
            var table = document.getElementById('myTable')

            for (var i = 0; i < data.length; i++) {
                var row = `<tr>
                                <td>${data[i].ndia}</td>
                                <td>${data[i].sdia}</td>
                                <td>${data[i].delpol_d}</td>
                                <td>${data[i].delapo_d}</td>
                                <td>${data[i].esctit_d}</td>
                                <td>${data[i].escsob_d}</td>
                                <td>${data[i].opetit_d}</td>
                                <td>${data[i].opesob_d}</td>
                                <td>${data[i].delpol_n}</td>
                                <td>${data[i].delapo_n}</td>
                                <td>${data[i].esctit_n}</td>
                                <td>${data[i].escsob_n}</td>
                                <td>${data[i].ope1_n}</td>
                                <td>${data[i].ope2_n}</td>
                                <td>${data[i].opesob_n}</td>
                            </tr>`
                table.innerHTML += row
            }
        }
    </script>
</body>
</html>